import React, { useState } from 'react';
import styles from './ScheduleSection.module.css';
import EventCard from '@/components/ui/EventCard';
import MonthSelector from '@/components/ui/MonthSelector';

// –î–∞–Ω–Ω—ã–µ –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö
const events = [
  {
    id: 1,
    title: 'MIniGames',
    date: '24.02 ‚Äì 10.03',
    location: '–ò–¢–ú–û',
    description: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –≤–∞—Å, –æ —Å–ª–∞–≤–Ω—ã–µ –∞–±–±–∞—Ç—ã, –∏ –∫—Ä–µ—Å—Ç—å—è–Ω–µ, –∏ —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∏, –∏ —Ä—ã—Ü–∞—Ä–∏ üôÇ –ú—ã –≤—Å–µ –∑–¥–µ—Å—å —Å–æ–±—Ä–∞–≤—à–∏—Å—å, –¥–∞–±—ã —Å —Ä–∞–∑–º–∞—Ö–æ–º –ø—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å –∏ –≥—É–ª—è—Ç—å –≤–µ—Å–µ–Ω–Ω–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ MiniGames, –∏ –±—É–¥–µ—Ç –Ω–∞—à–µ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ –¥–ª–∏—Ç—å—Å—è 14 –¥–Ω–µ–π –∏ 14 –Ω–æ—á–µ–π —Å –¥–Ω—è 24 –º–∞—Ä—Ç–∞!',
    image: '/assets/event1.jpg',
    month: '—Ñ–µ–≤—Ä–∞–ª—å',
    organizer: '–ù–∏–∫–∏—Ç–∞ –†—É–¥–Ω–µ–≤, –≥–ª–∞–≤ –æ—Ä–≥'
  },
  {
    id: 2,
    title: 'MegaQuiz IV',
    date: '22.03 ‚Äì 23.03',
    location: '—É–ª. –ì—Ä–∏–≤—Ü–æ–≤–∞, –¥. 14-16',
    description: '¬´–°–∫–∞–∂–∏ –º–Ω–µ, —á—Ç–æ —Ç—ã –µ—à—å, –∏ —è —Å–∫–∞–∂—É, –∫—Ç–æ —Ç—ã¬ª ‚Äî –≤–æ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è —à–µ—Ñ-–ø–æ–≤–∞—Ä–∞ –∫–∞—Ñ–µ Quizine. –î–ª—è –Ω–∞—à–∏—Ö –≥–æ—Å—Ç–µ–π –º—ã –≥–æ—Ç–æ–≤–∏–º —Ç–æ–ª—å–∫–æ –ª—É—á—à–µ–µ, —Ç–∞–∫–æ–µ –∂–µ –∏–∑—ã—Å–∫–∞–Ω–Ω–æ–µ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, –∫–∞–∫ –æ–Ω–∏ —Å–∞–º–∏ üç© –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –∏ —Ç–µ–±–µ –æ–∫—É–Ω—É—Ç—å—Å—è –≤ –≤–æ–ª—à–µ–±–Ω—ã–π –º–∏—Ä –∫—É–ª–∏–Ω–∞—Ä–∏–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞—à–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–µ –±–ª—é–¥–∞.',
    image: '/assets/events/quiz.jpg',
    month: '–º–∞—Ä—Ç',
    organizer: '–Æ–ª–∏—è –í–∞–ª–µ–µ–≤–∞, –ì–ª–∞–≤–û—Ä–≥'
  },
  {
    id: 3,
    title: 'Megagame',
    date: '12.04',
    location: '–ò–¢–ú–û',
    description: '–ö–æ—Å–º–æ—Å ‚Äî 6 –±—É–∫–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–∫–ª—é—á–µ–Ω–∞ —Ü–µ–ª–∞—è –≤–µ—á–Ω–æ—Å—Ç—å. –ú–∏–ª–ª–∏–æ–Ω—ã –∑–≤—ë–∑–¥, —Ç—ã—Å—è—á–∏ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ–ª, –æ–≥—Ä–æ–º–Ω—ã–µ –Ω–µ–∏–∑–≤–µ–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç–æ—Ä—ã üöÄ –ö–æ–º–∞–Ω–¥–∞ ITMO.Megabattle –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∞ –¥–ª—è —Ç–µ–±—è –Ω–µ—á—Ç–æ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–µ ‚Äî –≤—Ä–µ–º—è –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤–æ –í—Å–µ–ª–µ–Ω–Ω—É—é MegaGame 6.0 üåü MegaGame ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–±—Ä–∞—Ç—å—Å—è —Å –¥—Ä—É–∑—å—è–º–∏ –∏ –≤–º–µ—Å—Ç–µ –ø–æ–∫–æ—Ä–∏—Ç—å –Ω–µ–∏–∑–≤–µ–¥–∞–Ω–Ω—ã–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏ –∏–≥—Ä –∏ –≤–¥–æ–±–∞–≤–æ–∫ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –±–∞–ª–ª—ã –¥–ª—è —Å–≤–æ–µ–≥–æ –ú–µ–≥–∞—Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞',
    image: '/assets/event3.jpg',
    month: '–∞–ø—Ä–µ–ª—å',
    organizer: '–°–µ—Ä–≥–µ–π –ï—Ä—à–æ–≤, –ì–ª–∞–≤–û—Ä–≥'
  },
  {
    id: 4,
    title: '–ì–∞–ª–∞-–∫–æ–Ω—Ü–µ—Ä—Ç',
    date: '27.05',
    location: '–ò–¢–ú–û',
    description: 'TBD',
    image: '/assets/event4.jpg',
    month: '–º–∞–π',
    organizer: '–ï–≥–æ—Ä –ö–æ—Ä—è–∫–∏–Ω, –†–µ–∂–∏—Å—Å—ë—Ä'
  }
];

// –ú–∞—Å—Å–∏–≤ –º–µ—Å—è—Ü–µ–≤ –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
const months = [
  '—Å–µ–Ω—Ç—è–±—Ä—å', '–æ–∫—Ç—è–±—Ä—å', '–Ω–æ—è–±—Ä—å', '–¥–µ–∫–∞–±—Ä—å',
  '—è–Ω–≤–∞—Ä—å', '—Ñ–µ–≤—Ä–∞–ª—å', '–º–∞—Ä—Ç', '–∞–ø—Ä–µ–ª—å',
  '–º–∞–π', '–∏—é–Ω—å', '–∏—é–ª—å', '–∞–≤–≥—É—Å—Ç'
];

const ScheduleSection: React.FC = () => {
  const [selectedMonth, setSelectedMonth] = useState('–Ω–æ—è–±—Ä—å');

  // –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–µ—Å—è—Ü–∞ (–≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ)
  const currentEvent = events.find(event => event.month === selectedMonth);

  return (
    <section id="events" className={styles.schedule}>
      <h2 className={styles.scheduleTitle}>–ú–ï–†–û–ü–†–ò–Ø–¢–ò–Ø 2024 - 2025</h2>
      
      <div className={styles.monthsContainer}>
        <MonthSelector 
          months={months} 
          selectedMonth={selectedMonth} 
          onChange={(month) => setSelectedMonth(month)} 
        />
      </div>
      
      <div className={styles.eventCards}>
        {/* –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ EventCard, –Ω–æ –∞–∫—Ç–∏–≤–Ω—ã–º –¥–µ–ª–∞–µ–º —Ç–æ–ª—å–∫–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Å—è—Ü—É */}
        {events.map(event => (
          <EventCard 
            key={event.id} 
            id={String(event.id)} 
            title={event.title}
            date={event.date}
            location={event.location}
            description={event.description}
            image={event.image}
            organizer={event.organizer}
            isActive={event.month === selectedMonth}
          />
        ))}
        
        {!currentEvent && (
          <div className={styles.noEvents}>
            <p>–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –Ω–∞ —ç—Ç–æ—Ç –º–µ—Å—è—Ü</p>
          </div>
        )}
      </div>
    </section>
  );
};

export default ScheduleSection;
